<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Iterator</title>
<style>
</style>
</head>
<body>
<script>
var agg = (function(){
	var index = 0,
		data = [1, 2, 3, 4, 5],
		length = data.length;

	return {
		next: function(){
			var element;
			if(!this.hasNext()){
				return null;
			}
			element = data[index];
			index = index + 1;
			return element;
		},
		hasNext: function(){
			return index < length;
		},
		rewind: function(){
			//重新設定索引指向資料的開頭
			index = 0;
		},
		current: function(){
			//用來取得當前的元素
			return data[index];
		}
	}
}());

while(agg.hasNext()){
	console.log(agg.next()); //1, 2, 3, 4, 5
};

agg.rewind();
console.log(agg.current()); //1
</script>
</body>
</html>